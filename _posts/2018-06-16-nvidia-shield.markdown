# Nvidia Shield TV 2017
В начале 2016 года я приобрел себе новенькую Apple TV 4-го поколения, в надежде, что Apple придумает что-то интересное в мире телевидения. За 2 года я сильно разочаровался в этом устройстве: ужасный пульт управления, ничтожное число приложений, отсутствие вспомогательных сервисов (не только просмотр тв или гейминг). 
Я редко приобретаю контент в iTunes Store, т.к. есть подписка на Apple Music и стараюсь по максимуму использовать Plex Media Server (домашняя медиатека). 

Конечно, Apple TV - отличное устройство, просто я не целевая аудитория.  

## Android TV
Я давно присматривался к Android TV, но возможности обычной приставки меня не интересовали, т.к. эта замена будет в духе "шило на мыло". Так вот, есть не совсем обычный медиаплеер с официальной поддержкой Plex Media Server – Nvidia Shield TV.  Сейчас роль сервера для Plex выполняет Mac Mini, но в планах его полностью освободить от внутренних сервисов. В результате, решил избавиться от Apple TV и попробовать приставку на Android TV. 

## Настройка Plex Media Server на Nvidia Shield TV
Первым делом установил Plex и включил Media Server. Удивился, что Nvidia не смогла предустановить драйвер файловой системы HFS для Linux, пришлось форматировать внешний накопитель в ExFAT. 

Все Plex клиенты увидели новый сервер, правда порты для внешнего доступа пришлось обновить на роутере, а Mac Mini убрал из видимости. Прямого средства для переноса медиатеки от одного Plex Media Server к другому - я не нашел, поэтому весь контент копировал вручную. Это не очень удачное решение, т.к. сбились имена, теги, коллекции и т.п, если короче - адок. 

Но больше всего времени я потерял с Plex Camera Upload - загрузка фотографий с iOS. Дело в том, что из-за каких-то ограничений в Android TV, Plex не может загружать фотографии в медиатеку на внешнем накопителе. Только на внутреннюю память устройства. Пока с этим разобрался через костыль - создал 2 медиатеки с фотографиями: основная и только для выгрузки с iOS. 

Вроде бы в последнем обновлении можно перенести все данные Plex Media Server for Nvidia Shield на внешний накопитель, т.с. избежать подобной проблемы, но новая версия прошивки от Nvidia так и не долетела до меня. [Апдейт на Android 8.x почему-то отозвали](http://shield.nvidia.com/support/nvidia-shield-tv/release-notes).

Проработав пару недель я не испытал никаких проблем в работе Plex, ни на основном устройстве (где крутиться сервер), ни на клиентах (iOS, Android TV, LG TV).

После настройки медиасервера,  я решил перенести Resilio Sync на приставку. Почему нет? она все время включена, расположена на кухне, никто её не видит за телевизором. 

## Настройка Resilio Sync на Nvidia Shield TV
Забавно, но я не знал, что Resilio Sync официально не выпускает приложение для Android TV. Да, я и в целом не знал, что Play Market разделяется и некоторые приложения нельзя установить на Android TV. Выход есть всегда - можно скачать *.apk, для Resilio Sync они выкладывают версии на официальном форуме. 

Чтобы установить из APK, пришлось установить терминал с системой пэкаджей - [Termux](https://termux.com). Настроить доступ по ssh, чтобы не набирать с пульта перед телевизором. Терминал очень ограниченный, но базовые вещи сделать можно: поставить openssh, настроить доступ по ключам, настроить автозагрузку сервиса и т.п. 

Приложение Resilio Sync работает только при помощи мышки. Хорошо, что у жены оказалась bluetooth мышка Logitech с быстрым переключением к нескольким устройствам,  без мышки ничего сделать нельзя. 

Не буду расписывать, как настраивать папки и раздавать доступ, перейду к итогам работы, после 2-3 недель использования, а они не утешительные. Приложение по неизвестным причинам завершается раз в 2-3 дня. В итоге приходится включать ТВ, открывать настройки, запускать приложение. Я пока не понял, почему так происходит, ведь Plex Media Server продолжает работать без проблем (даже с доступом ко внешнему диску с контентом). Если разберусь - напишу отдельно, а пока надеюсь на какую-то поддержку от Resilio - хотя бы выпуск приложения для Android TV. 
 
Забавно, но для Nvidia Sheild есть бесплатный клиент Syncthing - open source аналог Resilio. Может быть устрою им схватку - натравлю сканирование и отслеживание на одну директорию, чтобы хоть как-то синхронизировать контент.  


## Впечатления от Nvidia Shield TV 2017
Пульт. Он гораздо лучше, чем был в Apple TV (4th). Да, в нем тоже есть жесты для регулировки громкости и они нажимаются случайно, но в Apple TV я постоянно брал пульт другой стороной и вызывал поиск, который бесполезный. 

Голосовой помощник. Очень классный, говоришь ему "Смешные котики", выпадают результаты из youtube, не нужно открывать приложение и что-то там вбивать. Еще он здорово надиктовывает текст в строке поиска, как на русском, так и на английском. 

Android TV. К сожалению, ничем не лучше Apple TV, может даже хуже. Приложения есть, но все они либо сделаны криво, либо не интересны. 

Игры. Понимаю, что этот медиплеер имеет крутые характеристики и ориентирован на игровые возможности приставки, особенно если купить игровой пульт. Но игры мне не интересны, поэтому ничего не могу сказать.  

Plex Media Server. Работает стабильно, проблем особых нет. Наполнять медиатеку не так удобно, как локальный Mac Mini, но в целом - все ок. 
Делаю так: контент выкладываю в папку, которая синхронизируется через Resilio Sync с Nvidia Shield TV, когда контент синхронизирован, то удаляю только файлы на MacMini, при этом всегда имею возможность синхронизировать обратно. 

Впечатления положительные. Я немного переоценил возможности Android TV, но то, что смог на приставку перенести два важных для меня сервиса - очень радует. Если будут какие-то вопросы - пишите в комментариях.
