--- 
layout: post 
title: 'Bittorent Sync: полный контроль над фотографиями' 
date: 2015-11-08 12:33:47 +0000
tags: 
- Mac
- Автоматизация
- Бэкап
---

Хранение данных - приятная тема для разговора. На рынке предлагается масса готовых решений, главное разобраться как они работают.

В заметке «[Как хранить фотоархив](http://pavel.miroshnichen.co/2015/08/24/about-backup/)» я затронул решение с сохранением данных в облачные сервисы Dropbox и дальнейшим переходом на Amazon Cloud Drive. Пришлось поменять решение. Я отменил платную подписку Dropbox на 1Тб, но остался на пробном периоде с Amazon Cloud Drive, который вот-вот закончится.

За две недели разобрал архив фотографий: поправил и прописал EFIX теги, скорректировал даты для фотографий прошлых лет.

Архив залил на три сервиса: Amazon Photos, Google Photos, Flickr. Для Amazon использовал аплоадер Synology, для остальных - штатный аплоадер под Windows, мне требуется кроссплатформенное решение.

## Amazon Cloud Drive: мои наблюдения
*Плюсы:*  
- приложение для Synology

*Мне не понравилось:*  
- нет семейного аккаунта,  
- загруженные папки не всегда корректно преобразовываются в альбомы,  
- нельзя поменять дату для загруженного файла,  
- скудная сортировка альбомов,  
- аплоадер для Windows не отслеживает изменения в папке. Нельзя указать папку «2015» и переодически создавать там альбомы, чтобы аплоадер самостоятельно загружал новые фото.  

**Итог:** Часть проблем уйдет, если использовать десктоп клиент для загрузки. Оставил Amazon как решение для offsite-бэкапа.

## Flickr: мои наблюдения
*Плюсы:*  
- изменение даты для загруженных фотографий,  
- групповое редактирование фото,  
- фотографии сохраняются «как есть»,  
- нормальное пользовательское соглашение.  

*Минусы:*  
- ужасный аплоадер в статусе beta: не загружает видео файлы, работает крайне медленно,  
- нет приложения для Synology.

**Итог:** Расстроил аплоадер. Как фото хостинг с такой историей выпускает такой сырой продукт? Для меня остается загадкой. Я загрузил 25% коллекции и прекратил это безобразие.

## Google Photos: мой выбор
*Плюсы:*  
- нормальный аплоадер для Windows,  
- изменение даты для загруженных фотографий,  
- шустрый мобильный клиент,  
- дополнительные коллекции: фильмы, истории, коллажи, анимация.

*Минусы:*  
- нет семейного аккаунта,  
- в бесплатном аккаунте есть ограничения для файлов,  
- сомнительное соглашение на формат хранения файлов,  
- нет приложения для Synology.  

**Итог:** на данный момент - лучший хостинг для фоток.

Разобравшись с архивом и фото хостингом перейдем к локальному хранению. 


# Bittorrent Sync 
Сервис для синхронизации файлов и резервного копирования. С версии 2 перешел на платную подписку, а с 2.1 вернул возможность приобрести версию на все время, с бесплатным обновлением 2.х.

Bittorrent Sync - фундаментальный инструмент для синхронизации файлов. Кроссплатформенный клиент позволяет применить гибкую схему синхронизации. Я подготовил схему:

![](http://pavel.miroshnichen.co/images/2015/11/Photos.png){: .center-image .responsive-image }

Основным источником хранения является NAS Synology с установленным клиентом BtSync Pro. Именно в интерфейсе NAS-клиента я добавляю новые устройства для синхронизации. 

Далее подключены два лэптопа - MacBook Pro и Samsung.

### Samsung
Для Samsung я выбрал полную синхронизацию папки «Фотографии».
С Samsung-а жены мы управляем структурой архива:  

* Сортировка по папкам
* Добавление фотографий
* Удаление фотографий
* Сортировка по событиям
* Перемещение из iPhone Upload в Фотографии


### MacBook Pro
А для MacBook Pro настроил `Selective Sync` - функция в подписке BtSync Pro, позволяет загружать контент по требованию. Я захотел отредактировать фотографии или поправить EXIF-теги, но у меня нет свободного места для загрузки всей коллекции фотографий. Selective Sync полностью отображает структуру папок, но они не занимают места. 

![](http://pavel.miroshnichen.co/images/2015/11/SelectiveSync.gif){: .center-image .responsive-image }

При клике на файле или папке нужный контент загружается для редактирования. После редактирования я отключаю локальное хранение, а на NAS остаются измененные данные. Хорошая опция для владельцев SSD небольшого размера.

На MacBook Pro я редактирую фотографии:

* Цифровая обработка
* Редактор EXIF-тегов
* Конвертер форматов

# Бэкап
На NAS Synology ежедневно запускается резервное копирование на подключенный внешний диск. На случай быстрого отказа диска в NAS.

*Offsite-бэкап*    
В доме у брата я установил внешний диск + запустил BtSync, который выгружает все важные данные (не только фотографии). 

И на Amazon Cloud Drive я выгружаю все данные, пока не решил, оставлять подписку или нет.

*.sync*  
При случайных удалениях, в клиенте Bittorrent Sync на всех устройствах настроено сохранение файлов в директорию `.sync/Archive`.

*hardware*  
В добавок, ежегодно делаю копию всех данных с шифрованием на внешний диск, который хранится на даче.





