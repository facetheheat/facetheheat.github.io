---
layout: post
title: 'Медиатека iCloud Photo Library'
date: '2016-06-21 00:05:57'
tags:
- Mac
- iOS
- iPhone
---

Проблема просмотра фотографий беспокоит меня достаточно давно. Как часто вы пересматриваете свои фотографии? Я - редко. 

Почти идеальный способ хранения - структура файлов по папкам, каталогизация по годам и месяцам. Каждому событию можно задать описание, фотографии не обязательно хранить с точностью до дня съемки, достаточно разместить все в одной папке.

![](/images/2016/06/Screen%20Shot%202016-06-12%20at%2015.25.20.png "Локальная медиатека. Структура папок"){: .center-image .responsive-image }

А удобный просмотр фотографий, какой он? К сожалению, структура по папкам для этого подходит не очень хорошо. 

**Во-первых**, структуру папок очень тяжело затащить на мобильное устройство, а мобильный с нами везде. 

**Во-вторых**, бегать по папкам и искать нужные события не очень удобно, с этим лучше справится просмотрщик. 

**В-третьих**, требуется большое желание или повод, чтобы вспомнить какое-то событие. Здесь мы сталкиваемся с тем, что забываем смотреть и наслаждаться приятными моментами из прошлого, остаются силы на коллекционирование папок.

Существует несколько решений для хранения и обмена фотографиями. Я попробовал Google Фото и Apple Фото. Оба сервиса предлагают создать таймлайн из фотографий — простыня из фотографий и видео в хронологическом порядке. 

## Что предлагает Google
Google Фото — лучшее, что сделала компания за последние несколько лет. Поддержка фотографий и видео файлов, быстрая загрузка, удобный просмотр в браузере и на мобильных устройствах (Android и iOS), умный ассистент с коллажами и анимацией, поиск и альбомы, поддержка общих альбомов. Фотографии можно загружать в сервис Google Фото или хранить на Google Диск'е. 

![](/images/2016/06/GooglePhotos.png){: .center-image .responsive-image }

Наконец, стоит отметить, что сервис предоставляется бесплатно для всех пользователей. Есть ряд ограничений, но для большинства Google Фото — лучший хостинг личных фотографий.

Какое-то время назад, я использовал Google Фото как сервис для предпросмотра фотографий. Приезжаешь в гости и показываешь фотографии из отпуска, прямо с телефона транслируешь на телевизор. 
Да и сейчас в этот сервис у меня дублируются фотографии, но уже в оригинальном качестве, но об этом ниже. 

Приняв участие в программе [«Местных экспертов»](https://www.google.com/intl/ru/local/guides/ "«Местных экспертов»"), я получил 1Тб на Google Диске на 2 года. Отличный облачный сервис, чтобы хранить резервные копии и фотографии в оригинале. 

Вернемся к Google Фото. Основной проблемой стала необходимость загрузки хранения фотографий в облаке. Google не предполагает, что фотографии могут хранится локально и только затем выгружаться в облако. Да, можно выгрузить все в Google Фото, а в сервисе Google Диск включить отображение фотографий из Фото, но этот вариант мне почему-то не понравился.

Так же я пробовал выгружать коллекцию в структуре по папкам в Google Диск, а в фотосервисе Google Фото включал отображение фотографий с диска. Из минусов — выгрузка фотографий происходит один раз, если добавить несколько фотографий в папку, которая была выгружена, обновления не произойдет. Возможно, нужно было подождать дольше, но у меня не получилось. 

Каждый сервис содержит ограничения (или непривычный способ работы), вопрос лишь в том, готовы ли мы закрывать на них глаза. В  Google всегда делали упор на веб-сервисы, а десктопные приложения почти никогда не приживались. 

Про экосистему Apple ходит много слухов, в основном плохих. Имея кучу девайсов Apple, решил попробовать облачный сервис «Медиатека iCloud», не смотря на противоречивые отзывы. 

## Медиатека iCloud
В 2015 году Apple представила замену iPhoto и Aperture — Photos.app для OS X. 

![](/images/2016/06/apple_photos_overview.jpeg){: .center-image .responsive-image }

### Хранение фотографий и видео файлов
Для всех устройств есть два способа хранить файлы:

1. Сохранение оригиналов.
	Все фотографии и видео хранятся в оригинальном качестве на текущем устройстве. Если медиатека помещается полностью на устройство, я рекомендую использовать именно этот способ. 

2. Оптимизация хранилища на Mac или iOS.
	На устройство загружается превью или уменьшенные копии файлов. По мере заполнения свободного места, хранилище удаляет загруженные оригиналы, освобождая места под новые фотографии. Доступ к оригиналам остается, просто фотография загружается по запросу. Опция актуальна для мобильных устройств или компьютеров с небольшими SSD, когда медиатека больше свободного места на диске.


### План перехода
1. Сделать бэкап существующей структуры папок с фото и видео.
2. Скопировать файлы из папок в Photos.app по годам.
3. Отредактировать даты и геолокацию.
4. «Причесать» медиатеку в Photos.app.
5. Сделать бэкап локальной медиатеки Photos.app.
6. Включить «iCloud Photot Library» в настройках Photos.app.
7. Дождаться полной выгрузки медиатеки в облако iCloud.
8. Включить «Медиатеку iCloud» на iOS. 
9. Убедиться, что на всех устройствах единая медиатека. 


### Загрузка своей коллекции в облако iCloud
![](/images/2016/06/Folders-to-Photos.png){: .center-image .responsive-image }

Данные моей медиатеки:

- объем медиатеки почти 200Гб,
- 13118 фотографий,
- 2350 видео файлов,
- все выгружалось 100 часов.

![](/images/2016/06/2016-06-19%2019_23_36.gif){: .center-image .responsive-image }

Как я говорил ранее, на iOS включена опция «Оптимизация хранилища на iPhone». С телефона я могу получить доступ к любой фотографии или видео, все доступно в качестве превью, при редактировании нужная фотография загружается за секунды. 

![](/images/2016/06/IMG_0262.jpg){: .center-image .responsive-image }

Объем превью на телефоне занимает 14.5Гб, много это или мало — каждый решает сам. Пока есть свободное место, не вижу проблем. 


### Как создать одну «Медиатеку iCloud» на двух iPhone?
Мы с женой работаем с одной медиатекой iCloud. Все фотографии выгружаются в единое место и доступны на обоих телефонах. Если не смущает, что фотография будет залита на телефон супруга/супруги, то сделать так можно включив в основных настройках iCloud одну учетную запись. Минусы и плюсы такого подхода я описал в отдельной заметке «Как использовать один аккаунт iCloud на двух iPhone'ах».

### Как забэкапить локальную медиатеку Photos.app?
Резервное копирование (бэкап) локальной медиатеки осуществляется через Arq, файлы шифруются и выгружаются на Google Drive.  Дополнительно я выгружаю медиатеку в Фотографии Google. 

![](/images/2016/06/Screen%20Shot%202016-06-12%20at%2018.13.35.png){: .center-image .responsive-image }

Объем бэкапа фотографий в Google Диск.

## Впечатления от Медиатеки iCloud и Photos.app

На данный момент я так и не нашел удобного способа хранения и просмотра фотографий, было решено попробовать сервис «на бою»:

1.  Выгружена медиатека за все годы.  
2. Привыкаю к работе с таймлайном.  
3. Первые впечатления от Медиатеки iCloud — положительные.  
4. Новые серии фотографий дублирую в структуру папок, если вдруг iCloud даст сбой.  

